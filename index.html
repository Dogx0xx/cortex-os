<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cortex Life OS v6.6</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        :root { 
            --main-color: #00ff41; 
            --sec-color: #008f11; 
            --bio-color: #00e5ff;
            --biz-color: #ffd700; 
            --bg-color: #050505; 
            --card-bg: rgba(15, 15, 15, 0.95);
            --border-color: #333;
            --alert: #ff4444; 
        }
        
        * { box-sizing: border-box; }
        
        body { 
            background-color: var(--bg-color); 
            color: #ccc; 
            font-family: 'JetBrains Mono', monospace; 
            margin: 0; padding: 15px;
            font-size: 13px;
        }
        
        .container { max-width: 1400px; margin: 0 auto; padding-bottom: 50px; }
        
        /* HEADER */
        header { 
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid #222; padding-bottom: 10px; margin-bottom: 15px;
        }
        
        h1 { 
            font-family: 'Share Tech Mono', monospace; font-size: 1.8em; 
            color: var(--main-color); margin: 0; text-shadow: 0 0 5px rgba(0,255,65,0.3);
        }

        /* STATUS BAR */
        .status-mini { text-align: right; width: 350px; }
        .xp-bar-container { background: #000; height: 6px; border-radius: 3px; overflow: hidden; border: 1px solid #333; margin: 2px 0; }
        .xp-fill { height: 100%; background: linear-gradient(90deg, var(--sec-color), var(--main-color)); width: 0%; transition: width 0.5s; }

        /* GRIDS */
        .ops-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .base-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 15px; }

        /* CARDS */
        .card {
            background: var(--card-bg); border: 1px solid var(--border-color);
            border-radius: 5px; padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.5); display: flex; flex-direction: column;
        }
        .card:hover { border-color: #555; }
        .card-header { 
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid #222; padding-bottom: 5px; margin-bottom: 10px;
        }
        .card-title { color: var(--main-color); font-weight: bold; font-size: 1em; text-transform: uppercase; }
        .card-title.bio { color: var(--bio-color); }

        /* ROADMAP */
        .roadmap-item { display: flex; align-items: center; justify-content: space-between; padding: 6px 0; border-bottom: 1px dashed #222; font-size: 0.9em; }
        .roadmap-checkbox { accent-color: var(--main-color); cursor: pointer; margin-right: 8px; }
        .tag { font-size: 0.7em; padding: 1px 5px; border-radius: 3px; background: #111; border: 1px solid #333; color: #666; }
        .tag.tech { color: var(--main-color); border-color: var(--sec-color); }
        .tag.biz { color: var(--biz-color); border-color: #554400; }

        /* BOT√ïES */
        .action-btn {
            width: 100%; background: #111; color: #aaa; 
            border: 1px solid #333; padding: 10px; margin-bottom: 5px; 
            border-radius: 4px; cursor: pointer; display: flex; justify-content: space-between;
            transition: all 0.1s; font-size: 0.9em;
        }
        .action-btn:hover { background: #1a1a1a; color: #fff; transform: translateX(2px); }
        
        .tech-btn:hover { border-color: var(--main-color); }
        .bio-btn:hover { border-color: var(--bio-color); }
        .biz-btn:hover { border-color: var(--biz-color); }
        .danger-btn:hover { border-color: var(--alert); background: #330000; color: #fff; }

        .xp-badge { font-weight: bold; color: var(--main-color); }
        .xp-badge.bio { color: var(--bio-color); }
        .xp-badge.biz { color: var(--biz-color); }
        .xp-badge.danger { color: var(--alert); }

        /* CALEND√ÅRIO */
        .calendar-controls { display: flex; justify-content: center; gap: 15px; margin-bottom: 5px; align-items: center; }
        .cal-btn { background: none; border: none; color: #666; cursor: pointer; font-size: 1.2em; }
        .cal-btn:hover { color: #fff; }
        .days-header { display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; margin-bottom: 2px; color: #444; font-size: 0.7em; }
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 3px; }
        .day-cell { height: 25px; border: 1px solid #222; font-size: 0.75em; display: flex; align-items: center; justify-content: center; cursor: pointer; color: #444; background: #080808; border-radius: 2px; }
        .day-cell:hover { border-color: #444; background: #111; }
        .day-today { border: 1px solid var(--bio-color); color: #fff; }
        .day-win { background: rgba(0, 255, 65, 0.1); border-color: var(--sec-color); color: var(--main-color); }
        .day-loss { background: rgba(255, 68, 68, 0.1); border-color: #552222; color: var(--alert); }
        .day-empty { background: transparent; border: none; cursor: default; }

        /* POMODORO & TOOLS */
        #timer { font-size: 2.5em; text-align: center; font-family: 'Share Tech Mono', monospace; margin: 5px 0; color: #fff; }
        .timer-controls { display: flex; gap: 5px; justify-content: center; }
        .btn-small { padding: 4px 10px; font-size: 0.75em; background: #151515; border: 1px solid #333; color: #888; cursor: pointer; border-radius: 3px; }
        .btn-small:hover { color: #fff; border-color: #666; }

        /* INPUTS */
        input, select { background: #080808; border: 1px solid #333; color: #ccc; padding: 4px; font-family: inherit; border-radius: 3px; font-size: 0.85em; }
        input:focus { border-color: var(--main-color); outline: none; }
        
        /* WEIGHT & LOGS */
        .weight-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; background: #111; padding: 5px; border-radius: 4px; }
        .log-container { max-height: 200px; overflow-y: auto; font-size: 0.8em; color: #888; border-top: 1px solid #333; margin-top: 10px; padding-top: 5px; }
        .log-item { padding: 3px 0; border-bottom: 1px solid #111; }

        @media(max-width: 900px) { .ops-grid, .base-grid { grid-template-columns: 1fr; } header { flex-direction: column; text-align: center; } .status-mini { width: 100%; margin-top: 10px; text-align: center; } }
    </style>
</head>
<body>

<div class="container">
    
    <header>
        <div>
            <h1>CORTEX OS v6.6</h1>
            <span style="font-size:0.75em; color:#555;">STRATEGIC DASHBOARD</span>
        </div>
        <div class="status-mini">
            <div style="display:flex; justify-content:space-between; font-size:0.8em; color:#888;">
                <span>LVL <span id="levelDisplay" style="color:#fff; font-weight:bold;">1</span> (<span id="rankDisplay">Iniciado</span>)</span>
                <span><span id="xpCurrent">0</span> / <span id="xpNext">1000</span> XP</span>
            </div>
            <div class="xp-bar-container"><div id="xpBar" class="xp-fill"></div></div>
        </div>
    </header>

    <div class="ops-grid">
        
        <div class="card">
            <div class="card-header"><span class="card-title">üèÜ ROADMAP ESTRAT√âGICO</span></div>
            <div id="roadmapList" style="overflow-y:auto; flex-grow:1;"></div>
        </div>

        <div class="card">
            <div class="card-header"><span class="card-title">‚ö° OPERA√á√ïES T√ÅTICAS</span></div>
            
            <button class="action-btn tech-btn" onclick="addXP(70, 'Turno CLT Cumprido')">
                <span>üíº Turno CLT (Entregas)</span> <span class="xp-badge">+70</span>
            </button>
            <button class="action-btn tech-btn" onclick="addXP(100, 'Lab Pr√°tico Docker/K8s')">
                <span>üê≥ Lab (1h)</span> <span class="xp-badge">+100</span>
            </button>
            <button class="action-btn tech-btn" onclick="addXP(80, 'Estudo JBoss')">
                <span>‚òï JBoss/Wildfly</span> <span class="xp-badge">+80</span>
            </button>
            <button class="action-btn tech-btn" onclick="addXP(50, 'Estudo AZ-900')">
                <span>‚òÅÔ∏è AZ-900</span> <span class="xp-badge">+50</span>
            </button>
            <button class="action-btn biz-btn" onclick="addXP(40, 'Mkt & Tr√°fego')">
                <span>üìà Mkt/Dev</span> <span class="xp-badge biz">+40</span>
            </button>
            <button class="action-btn tech-btn" onclick="addXP(30, 'Shadow Learning CLT')">
                <span>üè¢ Shadow Learning</span> <span class="xp-badge">+30</span>
            </button>
            <button class="action-btn bio-btn" onclick="addXP(100, 'Tempo Fam√≠lia')">
                <span>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Fam√≠lia (Off)</span> <span class="xp-badge bio">+100</span>
            </button>
            
            <div style="margin-top:auto; padding-top:10px; border-top:1px dashed #333;">
                <div style="display:flex; gap:5px; margin-bottom:5px;">
                    <input type="text" id="manualTaskName" placeholder="Tarefa Manual" style="flex-grow:1;">
                    <button class="btn-small" onclick="submitManualTask()">OK</button>
                </div>
                <button class="action-btn danger-btn" style="padding:8px;" onclick="addXP(-500, '‚õî RECA√çDA')">
                    <span>‚õî Reca√≠da/Jogo</span> <span class="xp-badge danger">-500</span>
                </button>
            </div>
        </div>

        <div class="card" style="border-top: 2px solid var(--bio-color);">
            <div class="card-header"><span class="card-title bio">‚ù§Ô∏è BIO-HACKING (-40KG)</span></div>
            
            <div class="weight-row">
                <div style="text-align:center;">
                    <div style="font-size:1.2em; font-weight:bold; color:#fff;" id="weightCurrent">--</div>
                    <div style="font-size:0.6em; color:#666;">KG ATUAL</div>
                </div>
                <div style="flex-grow:1; margin:0 10px;">
                    <div class="xp-bar-container" style="height:4px; margin:2px 0;"><div id="weightBar" class="xp-fill" style="background:var(--bio-color); width:0%;"></div></div>
                    <div style="font-size:0.6em; text-align:right; color:#666;">Meta: <span id="weightTarget">--</span></div>
                </div>
            </div>
            
            <div style="display:flex; gap:5px; margin-bottom:10px; justify-content:center;">
                <input type="number" id="newWeightInput" style="width:60px; text-align:center;" placeholder="Kg">
                <button class="btn-small" onclick="updateWeight()">Atualizar</button>
                <button class="btn-small" onclick="setStartWeight()" style="border:none;">Redefinir</button>
            </div>

            <button class="action-btn bio-btn" onclick="addXP(150, 'Academia')">
                <span>üèãÔ∏è Academia</span> <span class="xp-badge bio">+150</span>
            </button>
            <button class="action-btn bio-btn" onclick="addXP(100, 'Ciclismo')">
                <span>üö¥ Ciclismo</span> <span class="xp-badge bio">+100</span>
            </button>
            <button class="action-btn bio-btn" onclick="addXP(50, 'Caminhada')">
                <span>üö∂ Caminhada</span> <span class="xp-badge bio">+50</span>
            </button>
            <button class="action-btn bio-btn" onclick="addXP(80, 'Dieta 100%')">
                <span>ü•ó Dieta</span> <span class="xp-badge bio">+80</span>
            </button>
            <button class="action-btn danger-btn" onclick="addXP(-100, 'Comi Besteira')">
                <span>üçî Lixo</span> <span class="xp-badge danger">-100</span>
            </button>
        </div>

    </div>

    <div class="base-grid">
        
        <div class="card">
            <div class="card-header">
                <span class="card-title">üìÖ CONSIST√äNCIA</span>
                <div class="calendar-controls">
                    <button class="cal-btn" onclick="changeMonth(-1)">¬´</button>
                    <span id="monthDisplay" style="font-weight:bold; font-size:0.9em; color:#888;">DEZ 2025</span>
                    <button class="cal-btn" onclick="changeMonth(1)">¬ª</button>
                </div>
            </div>
            <div class="days-header"><div>D</div><div>S</div><div>T</div><div>Q</div><div>Q</div><div>S</div><div>S</div></div>
            <div id="calendarGrid" class="calendar-grid"></div>
        </div>

        <div class="card">
            <div class="card-header"><span class="card-title">üõ†Ô∏è SISTEMA</span></div>
            
            <div style="text-align:center;">
                <div id="timer">25:00</div>
                <div class="timer-controls">
                    <button class="btn-small" onclick="startTimer()">‚ñ∂</button>
                    <button class="btn-small" onclick="resetTimer()">‚Ü∫</button>
                </div>
            </div>

            <div id="logContainer" class="log-container"></div>

            <div style="display:flex; gap:5px; margin-top:10px; justify-content:center;">
                <button class="btn-small" onclick="downloadBackup()">üíæ SALVAR</button>
                <button class="btn-small" onclick="document.getElementById('fileUpload').click()">üìÇ CARREGAR</button>
                <input type="file" id="fileUpload" style="display:none" onchange="uploadBackup(this)">
            </div>
            <div style="text-align:center; margin-top:5px;">
                <button class="btn-small danger-btn" style="border:none; background:none; font-size:0.6em;" onclick="resetAll()">RESET TOTAL</button>
            </div>
        </div>

    </div>
</div>

<script>
    // --- DADOS ---
    const defaultRoadmap = [
        { id: 'jbs', name: "WildFly (JBoss) Master", xp: 1000, done: false, type: 'tech' },
        { id: 'k8s', name: "Kubernetes (Kind) Master", xp: 1000, done: false, type: 'tech' },
        { id: 'az9', name: "Certifica√ß√£o AZ-900", xp: 2000, done: false, type: 'tech' },
        { id: 'az1', name: "Certifica√ß√£o AZ-104", xp: 3000, done: false, type: 'tech' },
        { id: 'az5', name: "Certifica√ß√£o AZ-500", xp: 5000, done: false, type: 'tech' },
        { id: 'ai9', name: "Certifica√ß√£o AI-900", xp: 1500, done: false, type: 'biz' },
        { id: 'ai1', name: "Certifica√ß√£o AI-102", xp: 5000, done: false, type: 'biz' },
        { id: 'mkt', name: "Master Mkt/Tr√°fego", xp: 2000, done: false, type: 'biz' },
        { id: 'htb', name: "HTB Hacker Rank", xp: 3000, done: false, type: 'tech' },
        { id: 'prod', name: "Lan√ßar Info Produto", xp: 5000, done: false, type: 'biz' }
    ];

    let state = {
        xp: 0, level: 1, history: [],
        weight: { start: 0, current: 0, target: 0 },
        calendar: {}, roadmap: JSON.parse(JSON.stringify(defaultRoadmap))
    };

    let viewDate = new Date();
    const ranks = ["Iniciado", "Script Kiddie", "Analista Jr", "Analista Pleno", "SysAdmin", "Cloud Eng.", "Bio-Hacker", "Empire Builder", "CORTEX ELITE"];
    const monthNames = ["JAN", "FEV", "MAR", "ABR", "MAI", "JUN", "JUL", "AGO", "SET", "OUT", "NOV", "DEZ"];

    // --- INIT ---
    window.onload = function() {
        const saved = localStorage.getItem('cortexV66'); // V6.6
        if (saved) {
            let loaded = JSON.parse(saved);
            state = { ...state, ...loaded };
            defaultRoadmap.forEach(defItem => {
                if (!state.roadmap.find(i => i.id === defItem.id)) state.roadmap.push(defItem);
            });
        }
        render(); renderCalendar();
    };

    // --- CALENDAR ---
    function changeMonth(delta) {
        viewDate.setMonth(viewDate.getMonth() + delta);
        renderCalendar();
    }

    function renderCalendar() {
        const year = viewDate.getFullYear();
        const month = viewDate.getMonth();
        document.getElementById('monthDisplay').innerText = monthNames[month] + " " + year;
        
        const calDiv = document.getElementById('calendarGrid');
        calDiv.innerHTML = "";

        const firstDay = new Date(year, month, 1).getDay();
        const daysInMonth = new Date(year, month + 1, 0).getDate();
        const todayKey = new Date().toISOString().slice(0,10);

        for(let i=0; i<firstDay; i++) calDiv.appendChild(document.createElement('div'));

        for (let d = 1; d <= daysInMonth; d++) {
            let dateKey = `${year}-${String(month+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
            let status = state.calendar[dateKey] || 'null';
            let btn = document.createElement('div');
            btn.className = 'day-cell';
            btn.innerText = d;
            
            if(dateKey === todayKey) btn.classList.add('day-today');
            if(status === 'win') btn.classList.add('day-win');
            if(status === 'loss') btn.classList.add('day-loss');

            btn.onclick = function() { toggleDay(dateKey); };
            calDiv.appendChild(btn);
        }
    }

    function toggleDay(dateKey) {
        let current = state.calendar[dateKey];
        if (!current) state.calendar[dateKey] = 'win';
        else if (current === 'win') state.calendar[dateKey] = 'loss';
        else delete state.calendar[dateKey];
        save(); renderCalendar();
    }

    // --- LOGIC ---
    function addXP(amount, reason) {
        state.xp += amount;
        if (state.xp < 0 && state.xp < Math.abs(amount)) state.xp = 0;
        logEvent(reason, amount);
        checkLevel(); save(); render();
    }

    function checkLevel() {
        let next = state.level * 1000;
        while (state.xp >= next) {
            state.xp -= next; state.level++; next = state.level * 1000;
            alert("üéñÔ∏è LEVEL UP! N√≠vel " + state.level);
        }
    }

    function submitManualTask() {
        const name = document.getElementById('manualTaskName').value;
        const xp = parseInt(20);
        if(!name) return;
        addXP(xp, name);
        document.getElementById('manualTaskName').value = "";
    }

    function logEvent(text, val) {
        const time = new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
        state.history.unshift(`[${time}] ${text} (${val>0?'+':''}${val})`);
        if(state.history.length > 50) state.history.pop();
    }

    function toggleRoadmap(id) {
        let item = state.roadmap.find(i => i.id === id);
        if (item) {
            item.done = !item.done;
            if (item.done) addXP(item.xp, "üèÜ " + item.name);
            else addXP(-item.xp, "Corre√ß√£o");
            save(); render();
        }
    }

    function setStartWeight() {
        let w = parseFloat(prompt("Peso Inicial (kg):"));
        if(!w) return;
        state.weight.start = w; state.weight.current = w; state.weight.target = w - 40;
        save(); render();
    }

    function updateWeight() {
        let val = parseFloat(document.getElementById('newWeightInput').value);
        if (!val) return;
        let diff = state.weight.current - val;
        if (diff > 0) {
            let bonus = Math.floor(diff * 500);
            alert(`üî• -${diff.toFixed(1)}kg! +${bonus} XP!`);
            addXP(bonus, "Perda de Peso");
        }
        state.weight.current = val;
        document.getElementById('newWeightInput').value = "";
        save(); render();
    }

    // --- RENDER ---
    function render() {
        document.getElementById('levelDisplay').innerText = state.level;
        document.getElementById('xpCurrent').innerText = state.xp;
        let next = state.level * 1000;
        document.getElementById('xpNext').innerText = next;
        document.getElementById('xpBar').style.width = Math.min((state.xp/next)*100, 100) + "%";
        
        let rIndex = Math.min(state.level-1, ranks.length-1);
        document.getElementById('rankDisplay').innerText = ranks[rIndex];

        let roadHtml = "";
        state.roadmap.forEach(item => {
            let tagClass = item.type === 'biz' ? 'tag biz' : 'tag tech';
            let nameStyle = item.type === 'biz' ? 'color: var(--biz-color);' : '';
            roadHtml += `<div class="roadmap-item ${item.done ? 'done' : ''}"><label style="display:flex; align-items:center; cursor:pointer;"><input type="checkbox" class="roadmap-checkbox" onchange="toggleRoadmap('${item.id}')" ${item.done ? 'checked' : ''}><span style="${nameStyle}">${item.name}</span></label><span class="${tagClass}">+${item.xp} XP</span></div>`;
        });
        document.getElementById('roadmapList').innerHTML = roadHtml;

        if (state.weight.start > 0) {
            document.getElementById('weightCurrent').innerText = state.weight.current;
            document.getElementById('weightTarget').innerText = state.weight.target;
            let total = state.weight.start - state.weight.target;
            let current = state.weight.start - state.weight.current;
            document.getElementById('weightBar').style.width = Math.max(0, Math.min((current/total)*100, 100)) + "%";
        } else {
            document.getElementById('weightCurrent').innerText = "?";
            document.getElementById('weightTarget').innerText = "?";
        }

        document.getElementById('logContainer').innerHTML = state.history.map(h => `<div class="log-item">${h}</div>`).join('');
    }

    // --- SYSTEM ---
    function save() { localStorage.setItem('cortexV66', JSON.stringify(state)); }
    function downloadBackup() {
        const data = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(state));
        const el = document.createElement('a'); el.setAttribute("href", data); el.setAttribute("download", "cortex_backup.json");
        document.body.appendChild(el); el.click(); el.remove();
    }
    function uploadBackup(input) {
        const file = input.files[0]; if(!file) return;
        const reader = new FileReader();
        reader.onload = function(e) {
            try { state = JSON.parse(e.target.result); defaultRoadmap.forEach(defItem => { if (!state.roadmap.find(i => i.id === defItem.id)) state.roadmap.push(defItem); }); save(); render(); renderCalendar(); alert("OK!"); } catch(e) { alert("Erro"); }
        }; reader.readAsText(file);
    }
    function resetAll() { if(confirm("RESET?")) { localStorage.removeItem('cortexV66'); location.reload(); } }

    // --- TIMER ---
    let timerInt, timeLeft = 1500;
    function updateT() {
        let m = Math.floor(timeLeft/60), s = timeLeft%60;
        document.getElementById('timer').innerText = (m<10?"0":"")+m + ":" + (s<10?"0":"")+s;
    }
    function startTimer() {
        if(timerInt) return;
        timerInt = setInterval(() => { if(timeLeft > 0) { timeLeft--; updateT(); } else { clearInterval(timerInt); timerInt=null; alert("FOCO OK!"); addXP(50, "Pomodoro"); resetTimer(); } }, 1000);
    }
    function resetTimer() { clearInterval(timerInt); timerInt=null; timeLeft=1500; updateT(); }
</script>
</body>
</html>
